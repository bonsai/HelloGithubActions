# SF落語：ハローワールドやってみる

## 0. まくら（導入）

えー、落語でございます。
未来の話をいたしますが、未来ってのは遠いようで、案外すぐ隣に座ってるものでして。

今どきの開発者は、まず机に向かいません。
向かうのは“問い”でございます。

「これを解決したいから、こんなツール作って」

これを言うとですね、CLIエージェントが起きる。
起きると言っても、派手に起きません。未来はだいたい静かです。
端末の隅で、音声入力を待機してたやつが、すっと横に寄ってくる。

「どうしました」

これが未来の長屋のご隠居でございます。

## 1. 第一席：もとめよ、さらば与えられん（イシュードリブン）

ユーザーが話しかける。

「この作業が毎回めんどくさい。ファイルの形はこうで、入力はこうで、出力はこう。失敗するポイントもだいたい決まってる」

エージェントは、まず“リポジトリを作る”。
未来の開発は、最初からコードを書かない。
先に“置き場所”を作る。

1. gh repo を作る（公開・非公開は状況次第）
2. README.MD を書く
3. 失敗しないための境界（制約）を言葉で固定する

ここでREADMEが、昔の“看板”みたいになる。
看板がないとね、職人が何してるのか分からない。

さらに、ACTIONSでPRを書く。

「PRを書く」ってのがポイントでしてね。
PRは“実装”じゃない。“約束”です。

- 何をやるか
- 何をやらないか
- どう確認するか
- いつ終わったことにするか

こういうのを先に見える形にする。
未来の怖さってのは、速すぎて“見えない”ことなんです。
だから先に見える形にする。

CLIは最後に確認を取る。

「こんな感じでいいですか」

許可が出たら実装する。
ビルドして、テストして、動くところまでやる。
実行ファイルがローカルで走る。

ここまでが“一つの流れ”として自動化されている。

ご隠居が言う。

「未来の開発はな、速さじゃない。迷いを減らすことだ」

## 2. 第二席：とりあえずActionsでハローワールド（最小の自動化）

ところがクマエモン、言うんです。

「ご隠居、未来の話は分かりましたけど、まず何から試すんで？」

ご隠居は、ニヤっと笑う。

「ハローワールドだ。道具はまず、タダで動かして信用する」

### 2-1. まずは最小のワークフロー

リポジトリに、これを作るだけ。

`.github/workflows/hello.yml`

```yaml
name: hello-actions

on:
  workflow_dispatch: {}   # 手動で実行ボタン
  pull_request:           # PRが作られた/更新されたら自動で実行
    branches: [ "main" ]

jobs:
  hello:
    runs-on: ubuntu-latest
    steps:
      - name: Say hello
        run: |
          echo "Hello from GitHub Actions 👋"
          echo "repo: ${{ github.repository }}"
          echo "actor: ${{ github.actor }}"
          echo "event: ${{ github.event_name }}"
```

### 2-2. ポイント（なぜこれが効くのか）

- `workflow_dispatch` があると、Actionsタブから手動で叩ける  
  つまり「いま動く？」を、いつでも確かめられる
- `pull_request` があると、PRが更新されるたび勝手に走る  
  つまり「壊した？」を、勝手に教えてくれる
- `${{ github.* }}` は “誰が何を起動したか” の情報  
  未来の開発は、ログを“読む”んじゃない。“状況”で理解する

### 2-3. 動かし方（超シンプル）

1. 上の `hello.yml` をコミットしてpush
2. main に向けて PR を作る（または更新する）
3. Actions が走る（ログに Hello が出る）

もしくは：

- Actions タブ → `hello-actions` → `Run workflow`

クマエモンが言う。

「これだけでいいの？」

ご隠居が言う。

「いいんだ。最初は“動く”だけで勝ちだ。動いたら次に“守る”」

## 3. 第三席：エージェントたちを雇う（役割分担の時代）

未来の現場には、職人が増える。
一人が万能じゃない。万能にしようとすると、全部が雑になる。

エージェントは役で分かれる。

- **CLIエージェント**：対話し、要件を固め、実装の入口を作る
- **PRエージェント**：差分を読み、説明と検証を整える
- **テストエージェント**：壊れ方を先に考え、再現と防止を用意する
- **リリースエージェント**：配布の形を決め、バージョンを刻む

ご隠居が言う。

「人間は“最後の判断”だけ残せばいい。疲れるのは、判断じゃなくて往復だ」

## 4. 第四席：理想の未来の開発フロー（全部つながる）

ここからが“理想”。
でもね、理想ってのは今日から少しずつ真似できる。

### 4-1. 流れ

1. CLIエージェントが音声入力を待機
2. ユーザーが話しかける  
   「これを解決したいから、こんなツール作って」
3. エージェントが gh repo を作り README.MD を書く
4. Actions で PR を作る（実装前に約束を書く）
5. CLI が確認を取る  
   「こんな感じでいいですか」
6. 許可が出たら実装する（ビルド／テストまで完了）
7. 実行ファイルがローカルで動く

### 4-2. なにが“未来”なのか

未来の発明は、だいたい二つしかありません。

1. **繰り返しを消す**（自動化）
2. **迷いを減らす**（合意の形式化）

Actions は “繰り返し” を消す。
PR は “迷い” を減らす。
エージェントは “往復” を減らす。

だから、未来は速い。
でも速いのに怖くない。
怖くない理由は、確認の形がちゃんとあるから。

## 5. おまけ：GREETINGS（その場で増やせる自動化）

「挨拶くらいなら、テンプレで増やせますよ」

と、ご隠居が出してきたのがこれ。

https://github.com/bonsai/HelloGithubActions/new/main?filename=.github%2Fworkflows%2Fgreetings.yml&workflow_template=automation%2Fgreetings

こういう“増やし方”があると、未来っぽい。
自動化ってのは、重い仕組みじゃなくて、軽い追加で広がっていく。

## 6. さげ（締め）

最後にご隠居が言う。

「未来の開発でいちばん大事なのは、天才じゃない。続く形だ」

クマエモンが言う。

「続く形って、なんです？」

「小さく動かして、壊れないようにして、説明できるようにして、また次を足す。これだけだ」

えー、そんな未来の宙町から、今日はこの辺で。
おあとがよろしいようで。

